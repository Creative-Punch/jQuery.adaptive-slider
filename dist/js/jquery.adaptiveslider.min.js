/*
 *  Adaptive jQuery Slider Plugin - v1.0.0
 *  A jQuery plugin for a slider with adaptive colored figcaption and navigation.
 *  http://creative-punch.net
 *
 *  Made by Kenny Vaneetvelde
 *  Under MIT License
 */
!function(a){"use strict";var b=".slider-item",c={opacity:1,normalizeTextColor:!1,normalizedTextColors:{light:"#fff",dark:"#000"}};a.fn.adaptiveSlider=function(d){var e=a(this),f=a.extend({},c,d),g=!1;e.find("li").each(function(){a(this).addClass(b.replace(".","")),g||(a(this).addClass("active"),g=!0)}),e.prepend('<li unselectable class="slider-nav next">&gt;</li>'),e.prepend('<li unselectable class="slider-nav prev">&lt;</li>');var h,i,j,k,l=!0;h=e.find(b),i=h.first(),j=i.next(b),k=h.last(),e.find(b+" figure img").each(function(){var b=a(this),c=function(){var a=b[0];RGBaster.colors(a,function(a){b.trigger("color-found",{color:a.dominant})},20)},d=function(a){var b=a.match(/\d+/g);return(299*b[0]+587*b[1]+114*b[2])/1e3},e=function(a){return d(a)>=128?f.normalizedTextColors.dark:f.normalizedTextColors.light},g=function(a,b){return a=a.replace(")",","+b+")"),a=a.replace("rgb","rgba"),a?a:null};b.on("color-found",function(c,d){var h=b.siblings("figcaption");if(h.length){var i=d.color;f.opacity&&(i=g(i,f.opacity)),h.css({backgroundColor:i,color:e(d.color)}),a(".slider-item.active figure figcaption").attr("style")&&l&&(a(".slider-nav").css({backgroundColor:i,color:e(d.color)}),l=!1)}}),c()}),e.on("click",".slider-nav.next",function(c){c.preventDefault(),j.toggleClass("active",!0),i.toggleClass("active",!1),k=i,i=j,j=j.next(b),j.length||(j=h.first());var d=i.find("figcaption"),e=d.css("background-color"),f=d.css("color");a(".slider-nav").css({backgroundColor:e,color:f})}),e.on("click",".slider-nav.prev",function(c){c.preventDefault(),k.toggleClass("active",!0),i.toggleClass("active",!1),j=i,i=k,k=k.prev(b),k.length||(k=h.last());var d=i.find("figcaption"),e=d.css("background-color"),f=d.css("color");a(".slider-nav").css({backgroundColor:e,color:f})})}}(jQuery);