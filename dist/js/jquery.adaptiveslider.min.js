/*
 *  Adaptive jQuery Slider Plugin - v1.0.0
 *  A jQuery plugin for a slider with adaptive colored figcaption and navigation.
 *  http://creative-punch.net
 *
 *  Made by Kenny Vaneetvelde
 *  Under MIT License
 */
!function(a){"use strict";var b={itemSelector:".slider-item",opacity:1,normalizeTextColor:!1,normalizedTextColors:{light:"#fff",dark:"#000"}};a.fn.adaptiveSlider=function(c){var d=a(this),e=a.extend({},b,c),f=!1;d.find("li").each(function(){a(this).addClass(e.itemSelector.replace(".","")),f||(a(this).addClass("active"),f=!0)}),d.prepend('<li unselectable class="slider-nav next">&gt;</li>'),d.prepend('<li unselectable class="slider-nav prev">&lt;</li>');var g,h,i,j,k=!0;g=d.find(e.itemSelector),h=g.first(),i=h.next(e.itemSelector),j=g.last(),d.find(e.itemSelector+" figure img").each(function(){var b=a(this),c=function(){var a=b[0];RGBaster.colors(a,function(a){b.trigger("color-found",{color:a.dominant})},20)},d=function(a){var b=a.match(/\d+/g);return(299*b[0]+587*b[1]+114*b[2])/1e3},f=function(a){return d(a)>=128?e.normalizedTextColors.dark:e.normalizedTextColors.light},g=function(a,b){return a=a.replace(")",","+b+")"),a=a.replace("rgb","rgba"),a?a:null};b.on("color-found",function(c,d){var h=b.siblings("figcaption");if(h.length){var i=d.color;e.opacity&&(e.opacity&&(i=g(i,e.opacity)),h.css({backgroundColor:i})),e.normalizeTextColor&&h.css({color:f(d.color)}),k&&(a(".slider-nav").css({backgroundColor:i,color:f(d.color)}),k=!1)}}),c()}),d.on("click",".slider-nav.next",function(b){b.preventDefault(),i.toggleClass("active",!0),h.toggleClass("active",!1),j=h,h=i,i=i.next(e.itemSelector),i.length||(i=g.first());var c=h.find("figcaption"),d=c.css("background-color"),f=c.css("color");a(".slider-nav").css({backgroundColor:d,color:f})}),d.on("click",".slider-nav.prev",function(b){b.preventDefault(),console.log(j),console.log(h),j.toggleClass("active",!0),h.toggleClass("active",!1),i=h,h=j,j=j.prev(e.itemSelector),j.length||(j=g.last());var c=h.find("figcaption"),d=c.css("background-color"),f=c.css("color");a(".slider-nav").css({backgroundColor:d,color:f})})}}(jQuery);